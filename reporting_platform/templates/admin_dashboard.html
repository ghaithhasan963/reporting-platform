{% extends 'base.html' %}
{% block title %}ููุญุฉ ุงูุฃุฏูู | SaveNet{% endblock %}
{% block content %}

<h2 class="text-3xl font-bold mb-6 text-center text-blue-800">๐ก๏ธ ููุญุฉ ุงูุชุญูู ุงูุฅุฏุงุฑูุฉ</h2>

<!-- ๐ ุฅุดุนุงุฑุงุช ูุฅุญุตุงุฆูุงุช -->
<div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-10">
  <!-- ๐ ุจูุงุบุงุช ููุฏ ุงููุฑุงุฌุนุฉ -->
  <div class="card shadow p-4 bg-white">
    <h3 class="text-xl font-semibold text-green-700">ุจูุงุบุงุช ููุฏ ุงููุฑุงุฌุนุฉ</h3>
    {% for r in pending %}
      <div class="mt-4 border p-3 rounded-md">
        <p><strong>{{ r.username }}</strong> ุฃุจูุบ ุนู: {{ r.category }}</p>
        <p>{{ r.description }}</p>
        <div class="mt-2 space-x-2">
          <a href="/accept/{{ r.id }}" class="btn btn-success">โ๏ธ ููุงููุฉ</a>
          <a href="/reject/{{ r.id }}" class="btn btn-error">โ ุฑูุถ</a>
        </div>
      </div>
    {% else %}
      <p>ูุง ููุฌุฏ ุจูุงุบุงุช ุจุงูุชุธุงุฑ ุงููุฑุงุฌุนุฉ.</p>
    {% endfor %}
  </div>

  <!-- ๐ ุงูุจูุงุบุงุช ุงูููุฑุฑุฉ -->
  <div class="card shadow p-4 bg-white">
    <h3 class="text-xl font-semibold text-yellow-700">ุจูุงุบุงุช ููุฑุฑุฉ (ุฃูุซุฑ ูู 20)</h3>
    {% for cat, count in frequent %}
      <div class="alert alert-warning mt-4">
        ุงูุชุตููู: <strong>{{ cat }}</strong> | ุนุฏุฏ ุงูุจูุงุบุงุช: {{ count }}
        <a href="#" class="btn btn-outline">๐๏ธ ุชู ุงูุชุญูู</a>
      </div>
    {% else %}
      <p>ูุง ุชูุฌุฏ ุจูุงุบุงุช ููุฑุฑุฉ ุญุงููุงู.</p>
    {% endfor %}
  </div>
</div>

<!-- ๐ฅ ุฌุฏูู ุงููุณุชุฎุฏููู -->
<div class="card shadow p-4 bg-white">
  <h3 class="text-xl font-semibold text-purple-700 mb-4">ุจูุงูุงุช ุงููุณุชุฎุฏููู</h3>
  <div class="overflow-x-auto">
    <table class="table w-full">
      <thead>
        <tr>
          <th>ุงูุงุณู</th>
          <th>ุงููุงุชู</th>
          <th>ุงูุฏูุฑ</th>
          <th>ุนุฏุฏ ุงูุจูุงุบุงุช</th>
          <th>ุงูููุจููุฉ</th>
          <th>ุงูุฑุชุจุฉ</th>
        </tr>
      </thead>
      <tbody>
        {% for u in users %}
        <tr>
          <td>{{ u.username }}</td>
          <td>{{ u.phone }}</td>
          <td>{{ u.role }}</td>
          <td>{{ u.reports }}</td>
          <td>{{ u.approved }}</td>
          <td>{{ u.level }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

{% endblock %}
