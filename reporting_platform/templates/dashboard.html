{% extends "base.html" %}
{% block content %}
<h2>📋 بلاغات المستخدمين</h2>
<p>🧮 عدد البلاغات: {{ reports|length }}</p>

<input type="text" id="search" placeholder="🔍 تصفية البلاغات" oninput="filterReports()" />

<div id="reportList">
  {% for report in reports %}
    <div class="report">
      <strong>{{ report.user }}</strong>: {{ report.text }}
    </div>
  {% endfor %}
</div>

<script>
  function filterReports() {
    const keyword = document.getElementById("search").value.toLowerCase();
    const reports = document.querySelectorAll(".report");
    reports.forEach(div => {
      div.style.display = div.textContent.toLowerCase().includes(keyword) ? "block" : "none";
    });
  }
</script>
{% endblock %}
