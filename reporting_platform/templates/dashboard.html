{% extends 'base.html' %}
{% block title %}Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…{% endblock %}
{% block content %}

<div class="max-w-6xl mx-auto mt-8">
  <h1 class="text-3xl font-bold mb-6 text-center text-gray-800">Ù„ÙˆØ­Ø© Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª</h1>

  <!-- âœ… Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„ÙÙ„ØªØ±Ø© -->
  <div class="mb-6 flex justify-between items-center">
    <form method="get" class="flex space-x-4">
      <select name="status" class="p-2 border rounded shadow-sm">
        <option value="">Ø¹Ø±Ø¶ Ø§Ù„ÙƒÙ„</option>
        <option value="pending">Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©</option>
        <option value="approved">Ù…Ù‚Ø¨ÙˆÙ„</option>
        <option value="rejected">Ù…Ø±ÙÙˆØ¶</option>
      </select>
      <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">ØªØµÙÙŠØ©</button>
    </form>
    <p class="text-sm text-gray-500">Ø¹Ø¯Ø¯ Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª: {{ reports | length }}</p>
  </div>

  <!-- ğŸ“Š Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª -->
  <div class="overflow-x-auto">
    <table class="w-full bg-white border rounded-lg shadow">
      <thead class="bg-gray-200">
        <tr>
          <th class="p-3 text-right">Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</th>
          <th class="p-3 text-right">Ù†ÙˆØ¹ Ø§Ù„Ø¨Ù„Ø§Øº</th>
          <th class="p-3 text-right">Ø§Ù„ÙˆØµÙ</th>
          <th class="p-3 text-right">Ø§Ù„Ø­Ø§Ù„Ø©</th>
          <th class="p-3 text-right">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ø±Ø³Ø§Ù„</th>
          <th class="p-3 text-right">Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡</th>
        </tr>
      </thead>
      <tbody>
        {% for report in reports %}
        <tr class="border-t text-right hover:bg-gray-50">
          <td class="p-3 font-semibold">{{ report.username }}</td>
          <td class="p-3">{{ report.category }}</td>
          <td class="p-3 text-sm">{{ report.description }}</td>
          <td class="p-3">
            {% if report.approved == True %}
              <span class="text-green-600 font-bold">Ù…Ù‚Ø¨ÙˆÙ„</span>
            {% elif report.approved == False %}
              <span class="text-yellow-500 font-bold">Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©</span>
            {% else %}
              <span class="text-red-600 font-bold">Ù…Ø±ÙÙˆØ¶</span>
            {% endif %}
          </td>
          <td class="p-3 text-sm">{{ report.created_at.strftime('%Y-%m-%d') }}</td>
          <td class="p-3 space-x-2">
            <a href="/accept/{{ report.id }}" class="text-green-600 hover:underline">Ù‚Ø¨ÙˆÙ„</a>
            <a href="/reject/{{ report.id }}" class="text-red-600 hover:underline">Ø±ÙØ¶</a>
            <a href="/delete/{{ report.id }}" class="text-gray-500 hover:underline">Ø­Ø°Ù</a>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

{% endblock %}
